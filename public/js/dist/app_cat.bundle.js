(()=>{"use strict";document.addEventListener("DOMContentLoaded",function(){const e={transform_input_slug:function(e){const t=e.closest("#category_new");if(!t)return!1;const n=t.querySelector("#slug"),s=document.querySelector(".preview-slug");if(s&&n){const t=e.value.trim().toLowerCase().replace(/\s+/g,"-");s.textContent=t,n.value=s.textContent}},card_down_toggle:function(e){let t=e.closest(".card");if(t){let e=t.querySelector(".card-content");if(e){e.style.transition="max-height 0.3s ease",e.style.overflow="hidden";let t=e.querySelector(".card-text");t&&(t.style.transition="opacity 0.3s ease"),e.classList.contains("hidden")?(e.classList.remove("hidden"),e.style.maxHeight="0px",e.offsetWidth,e.style.maxHeight=e.scrollHeight+"px",t&&(t.style.opacity="0",t.offsetWidth,t.style.opacity="1"),e.addEventListener("transitionend",function t(){e.style.maxHeight="",e.removeEventListener("transitionend",t)})):(e.style.maxHeight=e.scrollHeight+"px",e.offsetWidth,e.style.maxHeight="0px",t&&(t.style.opacity="1",t.offsetWidth,t.style.opacity="0"),e.addEventListener("transitionend",function t(){e.classList.add("hidden"),e.removeEventListener("transitionend",t)})),e.classList.toggle("active")}}},dissable_button:function(e){const t=document.querySelector(`button[type="submit"][data-type="${e}"]`);t&&(t.disabled=!0,t.classList.add("is-loading"),setTimeout(()=>{t.classList.remove("is-loading")},2e3))},return_button:function(){const e=document.getElementById("cat_message"),t=e.dataset.type||"waiting",n=e.dataset.stMessage||"Esperando por una solicitud...",s=document.getElementById("cat_cancel"),i=document.querySelector(`button[type="submit"][data-type="${t}"]`);i&&s&&(i.disabled=!1,i.classList.remove("is-loading"),e.innerHTML=n)},delete_categories:function(){const e=document.getElementById("delete-category");e.addEventListener("click",function(t){t.preventDefault();let n=this.dataset.mode;const s=document.getElementById("categories-list");if(s&&s.firstChild){const t=s.querySelectorAll(".column");t&&t.forEach(function(t){if("active-dlt"===n){const n=document.createElement("form"),s=document.createElement("button"),i=document.createElement("input"),a=t.id.replace(/^category-/,""),o=document.createElement("input");s.type="submit",s.innerHTML="<span>Delete</span>",s.innerHTML+='<span class="icon is-small">',s.innerHTML+='<i class="fas fa-times"></i>',s.innerHTML+="</span>",s.className="delete-button button is-danger is-outlined",i.type="hidden",i.value=a,i.name="category_id",o.type="hidden",o.value="delete_category",o.name="action",n.appendChild(s),n.appendChild(i),n.appendChild(o),n.action="./php/category.php",n.method="POST",n.className="form-btn-dlt ajaxform",n.style.position="absolute",n.style.top="-0.5em",n.style.right="-0.5em",t.appendChild(n),e.dataset.mode="deactive-dlt",e.textContent="Cancelar"}else if("deactive-dlt"===n){const n=t.querySelector(".form-btn-dlt");n&&(n.remove(),e.dataset.mode="active-dlt",e.textContent="Delete")}})}})}};e.delete_categories(),this.addEventListener("click",function(t){let n=t.target;n.matches(".card-down-toggle")&&e.card_down_toggle(n)}),this.addEventListener("keyup",function(t){let n=t.target;n.matches('input[name="nombre"]')&&e.transform_input_slug(n)})})})();
//# sourceMappingURL=app_cat.bundle.js.map