(()=>{"use strict";document.addEventListener("DOMContentLoaded",function(e){const t=function(){function e(e,t,n,i,s){const o=document.createElement("form"),a=document.createElement("button"),d=document.createElement("input"),c=e.id.replace(/^category-/,""),l=document.createElement("input");a.type="submit",a.innerHTML="<span>"+t+"</span>",a.innerHTML+='<span class="icon is-small">',a.innerHTML+='<i class="fas fa-times"></i>',a.innerHTML+="</span>",a.className={delete:"delete-button button is-danger is-outlined",edit:"edit-button button is-info is-outlined"}[i],d.type="hidden",d.value=c,d.name="category_id",l.type="hidden",l.value=n,l.name="action",o.appendChild(a),o.appendChild(d),o.appendChild(l),o.action="./php/category.php",o.method="POST",o.className="form-btn-dlt ajaxform",o.style.position="absolute",o.style.top="-0.5em",o.style.right="-0.5em",e.appendChild(o),s.dataset.mode="deactive-dlt",s.textContent="Cancelar"}return{transform_input_slug:e=>{const t=e.closest("#category_new");if(!t)return!1;const n=t.querySelector("#slug"),i=document.querySelector(".preview-slug");if(i&&n){const t=e.value.trim().toLowerCase().replace(/\s+/g,"-");i.textContent=t,n.value=i.textContent}},card_down_toggle:e=>{let t=e.closest(".card");if(t){let e=t.querySelector(".card-content");if(e){e.style.transition="max-height 0.3s ease",e.style.overflow="hidden";let t=e.querySelector(".card-text");t&&(t.style.transition="opacity 0.3s ease"),e.classList.contains("hidden")?(e.classList.remove("hidden"),e.style.maxHeight="0px",e.offsetWidth,e.style.maxHeight=e.scrollHeight+"px",t&&(t.style.opacity="0",t.offsetWidth,t.style.opacity="1"),e.addEventListener("transitionend",function t(){e.style.maxHeight="",e.removeEventListener("transitionend",t)})):(e.style.maxHeight=e.scrollHeight+"px",e.offsetWidth,e.style.maxHeight="0px",t&&(t.style.opacity="1",t.offsetWidth,t.style.opacity="0"),e.addEventListener("transitionend",function t(){e.classList.add("hidden"),e.removeEventListener("transitionend",t)})),e.classList.toggle("active")}}},dissable_button:e=>{const t=document.querySelector(`button[type="submit"][data-type="${e}"]`);t&&(t.disabled=!0,t.classList.add("is-loading"),setTimeout(()=>{t.classList.remove("is-loading")},2e3))},return_button:()=>{const e=document.getElementById("cat_message"),t=e.dataset.type||"waiting",n=e.dataset.stMessage||"Esperando por una solicitud...",i=document.getElementById("cat_cancel"),s=document.querySelector(`button[type="submit"][data-type="${t}"]`);s&&i&&(s.disabled=!1,s.classList.remove("is-loading"),e.innerHTML=n)},delete_categories:()=>{document.addEventListener("click",function(t){let n=t.target;if(!n.matches("#delete-category"))return;t.preventDefault();let i=n.dataset.mode;const s=document.getElementById("categories-list");if(s&&s.firstChild){const t=s.querySelectorAll(".column");t&&t.forEach(function(t){if("active-dlt"===i)e(t,"Delete","delete_category","delete",n);else if("deactive-dlt"===i){const e=t.querySelector(".form-btn-dlt");e&&(e.remove(),n.dataset.mode="active-dlt",n.textContent="Delete")}})}})},edit_categories:()=>{document.addEventListener("click",function(t){let n=t.target;if(!n.matches("#edit-category"))return;t.preventDefault();let i=n.dataset.mode;const s=document.getElementById("categories-list");if(s&&s.firstChild){const t=s.querySelectorAll(".column");t&&t.forEach(function(t){if("active-dlt"===i)e(t,"Edit","edit_category","edit",n);else if("deactive-dlt"===i){const e=t.querySelector(".form-btn-dlt");e&&(e.remove(),n.dataset.mode="active-dlt",n.textContent="Edit")}})}})}}}();t.delete_categories(),t.edit_categories(),this.addEventListener("click",function(e){let n=e.target;n.matches(".card-down-toggle")&&t.card_down_toggle(n)}),this.addEventListener("keyup",function(e){let n=e.target;n.matches('input[name="nombre"]')&&t.transform_input_slug(n)})})})();
//# sourceMappingURL=app_cat.bundle.js.map