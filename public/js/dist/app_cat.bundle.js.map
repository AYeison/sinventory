{"version":3,"file":"app_cat.bundle.js","mappings":"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","sources":["webpack://sinventory-fityfour/./public/js/src/app_cat.js","webpack://sinventory-fityfour/./public/js/src/categoria/events.js"],"sourcesContent":["import cat_events from './categoria/events.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    const c_events = cat_events();\r\n        //active delete buttons at categories\r\n        c_events.delete_categories();\r\n        \r\n        this.addEventListener('click', function(e){\r\n        let target = e.target;\r\n        if(target.matches('.card-down-toggle')){\r\n            c_events.card_down_toggle(target);\r\n        }\r\n    });\r\n    // Initialize the slug transformation for the category form\r\n    this.addEventListener('keyup', function(e) {\r\n            let target = e.target;\r\n\r\n            if(target.matches('input[name=\"nombre\"]')){\r\n                c_events.transform_input_slug(target);\r\n            }\r\n    });\r\n});","export default function cat_events(){\r\n\r\nreturn {\r\n        transform_input_slug : function (input){\r\n                const form = input.closest('#category_new');\r\n\r\n            if(!form){\r\n                return false;\r\n            }\r\n         \r\n            const input_slug = form.querySelector('#slug');\r\n            const preview = document.querySelector('.preview-slug');\r\n            if(preview && input_slug){\r\n     \r\n             const slug = input.value.trim().toLowerCase().replace(/\\s+/g, '-');\r\n             preview.textContent = slug;\r\n            input_slug.value = preview.textContent;\r\n            }\r\n\r\n          \r\n            },\r\n       card_down_toggle : function (target){\r\n            let card = target.closest('.card');\r\n            if(card){\r\n                let content = card.querySelector('.card-content');\r\n                if(content){\r\n                    // Add smooth transition for max-height\r\n                    content.style.transition = 'max-height 0.3s ease';\r\n                    content.style.overflow = 'hidden';\r\n\r\n                    // Fade effect for the text inside card-content\r\n                    let text = content.querySelector('.card-text');\r\n                    if (text) {\r\n                        text.style.transition = 'opacity 0.3s ease';\r\n                    }\r\n\r\n                    if (content.classList.contains('hidden')) {\r\n                        content.classList.remove('hidden');\r\n                        // Set maxHeight to 0 first to trigger transition\r\n                        content.style.maxHeight = '0px';\r\n                        // Force reflow to apply the initial state\r\n                        void content.offsetWidth;\r\n                        // Then set to scrollHeight to expand\r\n                        content.style.maxHeight = content.scrollHeight + 'px';\r\n\r\n                        // Fade in text\r\n                        if (text) {\r\n                            text.style.opacity = '0';\r\n                            // Force reflow\r\n                            void text.offsetWidth;\r\n                            text.style.opacity = '1';\r\n                        }\r\n\r\n                        // Optionally, remove maxHeight after transition for flexibility\r\n                        content.addEventListener('transitionend', function handler() {\r\n                            content.style.maxHeight = '';\r\n                            content.removeEventListener('transitionend', handler);\r\n                        });\r\n                    } else {\r\n                        // Set maxHeight to current height before collapsing\r\n                        content.style.maxHeight = content.scrollHeight + 'px';\r\n                        // Force reflow\r\n                        void content.offsetWidth;\r\n                        // Collapse\r\n                        content.style.maxHeight = '0px';\r\n\r\n                        // Fade out text\r\n                        if (text) {\r\n                            text.style.opacity = '1';\r\n                            // Force reflow\r\n                            void text.offsetWidth;\r\n                            text.style.opacity = '0';\r\n                        }\r\n\r\n                        content.addEventListener('transitionend', function handler() {\r\n                            content.classList.add('hidden');\r\n                            content.removeEventListener('transitionend', handler);\r\n                        });\r\n                    }\r\n                    content.classList.toggle('active');\r\n                }\r\n                }\r\n           \r\n        },\r\n    dissable_button : function(type){\r\n            const button = document.querySelector(`button[type=\"submit\"][data-type=\"${type}\"]`);\r\n            if(button){\r\n                button.disabled = true;\r\n                button.classList.add('is-loading');\r\n                setTimeout(() => {\r\n                    button.classList.remove('is-loading');\r\n                }, 2000); // Re-enable after 2 seconds\r\n            }\r\n    },\r\n\r\n    return_button : function(){\r\n            const cat_message = document.getElementById('cat_message');\r\n            const type = cat_message.dataset.type || 'waiting';\r\n            const static_msg = cat_message.dataset.stMessage || 'Esperando por una solicitud...';\r\n            const cancel_btn = document.getElementById('cat_cancel');\r\n            const type_btn = document.querySelector(`button[type=\"submit\"][data-type=\"${type}\"]`);\r\n            if(type_btn && cancel_btn){\r\n               \r\n                type_btn.disabled = false;\r\n                type_btn.classList.remove('is-loading');\r\n                cat_message.innerHTML = static_msg;\r\n            }\r\n    },\r\n\r\n    delete_categories : function(){\r\n        const btn_delete = document.getElementById('delete-category');\r\n\r\n            btn_delete.addEventListener('click', function(e){\r\n                e.preventDefault();\r\n                let mode = this.dataset.mode;\r\n                const categories_list = document.getElementById('categories-list');\r\n                if(categories_list && categories_list.firstChild){\r\n                    const col_cats = categories_list.querySelectorAll('.column');\r\n\r\n                    if(col_cats){\r\n                        col_cats.forEach(function(cat){\r\n                            if( mode === 'active-dlt'){\r\n                             const form = document.createElement('form');\r\n                              const input_delete= document.createElement('button');\r\n                              const hidden_id = document.createElement('input');\r\n                              const cat_id = cat.id.replace(/^category-/, \"\");\r\n                              const action_input = document.createElement('input');\r\n                              \r\n                              input_delete.type = 'submit';\r\n                              input_delete.innerHTML = '<span>Delete</span>';\r\n                              input_delete.innerHTML += '<span class=\"icon is-small\">';\r\n                              input_delete.innerHTML += '<i class=\"fas fa-times\"></i>';\r\n                              input_delete.innerHTML += '</span>';\r\n                              input_delete.className = 'delete-button button is-danger is-outlined';\r\n\r\n                              hidden_id.type = 'hidden';\r\n                              hidden_id.value = cat_id;\r\n                              hidden_id.name = 'category_id';\r\n\r\n                              action_input.type='hidden';\r\n                              action_input.value ='delete_category';\r\n                              action_input.name = 'action';\r\n\r\n                              form.appendChild(input_delete);\r\n                              form.appendChild(hidden_id);\r\n                              form.appendChild(action_input);\r\n\r\n                              form.action = './php/category.php';\r\n                              form.method = 'POST';\r\n                              form.className = 'form-btn-dlt ajaxform';\r\n\r\n                              form.style.position = 'absolute';\r\n                              form.style.top = '-0.5em';\r\n                              form.style.right = '-0.5em';\r\n\r\n                              cat.appendChild(form);\r\n                             btn_delete.dataset.mode = 'deactive-dlt';\r\n                             btn_delete.textContent = 'Cancelar';\r\n                              \r\n                            }else if(mode === 'deactive-dlt'){\r\n                                const dlt_btn = cat.querySelector('.form-btn-dlt');\r\n                                if(dlt_btn){\r\n                                      dlt_btn.remove();\r\n                                        btn_delete.dataset.mode = 'active-dlt';\r\n                                       btn_delete.textContent = 'Delete';\r\n                                }\r\n                            }\r\n                        \r\n                            \r\n                           \r\n                          \r\n                        })\r\n                    }\r\n                }\r\n                  \r\n            })\r\n    }\r\n        \r\n}\r\n\r\n\r\n}"],"names":["document","addEventListener","c_events","transform_input_slug","input","form","closest","input_slug","querySelector","preview","slug","value","trim","toLowerCase","replace","textContent","card_down_toggle","target","card","content","style","transition","overflow","text","classList","contains","remove","maxHeight","offsetWidth","scrollHeight","opacity","handler","removeEventListener","add","toggle","dissable_button","type","button","disabled","setTimeout","return_button","cat_message","getElementById","dataset","static_msg","stMessage","cancel_btn","type_btn","innerHTML","delete_categories","btn_delete","e","preventDefault","mode","this","categories_list","firstChild","col_cats","querySelectorAll","forEach","cat","createElement","input_delete","hidden_id","cat_id","id","action_input","className","name","appendChild","action","method","position","top","right","dlt_btn","matches"],"sourceRoot":""}