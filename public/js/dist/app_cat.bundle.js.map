{"version":3,"file":"app_cat.bundle.js","mappings":"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","sources":["webpack://sinventory-fityfour/./public/js/src/app_cat.js","webpack://sinventory-fityfour/./public/js/src/categoria/events.js"],"sourcesContent":["import cat_events from './categoria/events.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function(e) {\r\n    const c_events = cat_events();\r\n        //active delete buttons at categories\r\n        c_events.delete_categories();\r\n\r\n        //active edit buttons at categories\r\n        c_events.edit_categories();\r\n        \r\n        this.addEventListener('click', function(e){\r\n        let target = e.target;\r\n        if(target.matches('.card-down-toggle')){\r\n            c_events.card_down_toggle(target);\r\n        }\r\n    });\r\n    // Initialize the slug transformation for the category form\r\n    this.addEventListener('keyup', function(e) {\r\n            let target = e.target;\r\n\r\n            if(target.matches('input[name=\"nombre\"]')){\r\n                c_events.transform_input_slug(target);\r\n            }\r\n    });\r\n});","export default function cat_events(){\r\n    function create_button(cat, name_btn, action, type, tgElement) {\r\n                             const form = document.createElement('form');\r\n                              const input_submit= document.createElement('button');\r\n                              const hidden_id = document.createElement('input');\r\n                              const cat_id = cat.id.replace(/^category-/, \"\");\r\n                              const action_input = document.createElement('input');\r\n\r\n                              const btn_classes = {\r\n                                delete: 'delete-button button is-danger is-outlined',\r\n                                edit: 'edit-button button is-info is-outlined'\r\n                              }\r\n                              \r\n                              input_submit.type = 'submit';\r\n                              input_submit.innerHTML = '<span>'+name_btn+'</span>';\r\n                              input_submit.innerHTML += '<span class=\"icon is-small\">';\r\n                              input_submit.innerHTML += '<i class=\"fas fa-times\"></i>';\r\n                              input_submit.innerHTML += '</span>';\r\n                              input_submit.className = btn_classes[type];\r\n\r\n                              hidden_id.type = 'hidden';\r\n                              hidden_id.value = cat_id;\r\n                              hidden_id.name = 'category_id';\r\n\r\n                              action_input.type='hidden';\r\n                              action_input.value = action;\r\n                              action_input.name = 'action';\r\n\r\n                              form.appendChild(input_submit);\r\n                              form.appendChild(hidden_id);\r\n                              form.appendChild(action_input);\r\n\r\n                              form.action = './php/category.php';\r\n                              form.method = 'POST';\r\n                              form.className = 'form-btn-dlt ajaxform';\r\n\r\n                              form.style.position = 'absolute';\r\n                              form.style.top = '-0.5em';\r\n                              form.style.right = '-0.5em';\r\n\r\n                            cat.appendChild(form);\r\n                             tgElement.dataset.mode = 'deactive-dlt';\r\n                             tgElement.textContent = 'Cancelar';\r\n    }\r\n\r\nreturn {\r\n        transform_input_slug :  (input) => {\r\n                const form = input.closest('#category_new');\r\n\r\n            if(!form){\r\n                return false;\r\n            }\r\n         \r\n            const input_slug = form.querySelector('#slug');\r\n            const preview = document.querySelector('.preview-slug');\r\n            if(preview && input_slug){\r\n     \r\n             const slug = input.value.trim().toLowerCase().replace(/\\s+/g, '-');\r\n             preview.textContent = slug;\r\n            input_slug.value = preview.textContent;\r\n            }\r\n\r\n          \r\n            },\r\n       card_down_toggle :  (target) => {\r\n            let card = target.closest('.card');\r\n            if(card){\r\n                let content = card.querySelector('.card-content');\r\n                if(content){\r\n                    // Add smooth transition for max-height\r\n                    content.style.transition = 'max-height 0.3s ease';\r\n                    content.style.overflow = 'hidden';\r\n\r\n                    // Fade effect for the text inside card-content\r\n                    let text = content.querySelector('.card-text');\r\n                    if (text) {\r\n                        text.style.transition = 'opacity 0.3s ease';\r\n                    }\r\n\r\n                    if (content.classList.contains('hidden')) {\r\n                        content.classList.remove('hidden');\r\n                        // Set maxHeight to 0 first to trigger transition\r\n                        content.style.maxHeight = '0px';\r\n                        // Force reflow to apply the initial state\r\n                        void content.offsetWidth;\r\n                        // Then set to scrollHeight to expand\r\n                        content.style.maxHeight = content.scrollHeight + 'px';\r\n\r\n                        // Fade in text\r\n                        if (text) {\r\n                            text.style.opacity = '0';\r\n                            // Force reflow\r\n                            void text.offsetWidth;\r\n                            text.style.opacity = '1';\r\n                        }\r\n\r\n                        // Optionally, remove maxHeight after transition for flexibility\r\n                        content.addEventListener('transitionend', function handler() {\r\n                            content.style.maxHeight = '';\r\n                            content.removeEventListener('transitionend', handler);\r\n                        });\r\n                    } else {\r\n                        // Set maxHeight to current height before collapsing\r\n                        content.style.maxHeight = content.scrollHeight + 'px';\r\n                        // Force reflow\r\n                        void content.offsetWidth;\r\n                        // Collapse\r\n                        content.style.maxHeight = '0px';\r\n\r\n                        // Fade out text\r\n                        if (text) {\r\n                            text.style.opacity = '1';\r\n                            // Force reflow\r\n                            void text.offsetWidth;\r\n                            text.style.opacity = '0';\r\n                        }\r\n\r\n                        content.addEventListener('transitionend', function handler() {\r\n                            content.classList.add('hidden');\r\n                            content.removeEventListener('transitionend', handler);\r\n                        });\r\n                    }\r\n                    content.classList.toggle('active');\r\n                }\r\n                }\r\n           \r\n        },\r\n    dissable_button : (type) => {\r\n            const button = document.querySelector(`button[type=\"submit\"][data-type=\"${type}\"]`);\r\n            if(button){\r\n                button.disabled = true;\r\n                button.classList.add('is-loading');\r\n                setTimeout(() => {\r\n                    button.classList.remove('is-loading');\r\n                }, 2000); // Re-enable after 2 seconds\r\n            }\r\n    },\r\n\r\n    return_button : () => {\r\n            const cat_message = document.getElementById('cat_message');\r\n            const type = cat_message.dataset.type || 'waiting';\r\n            const static_msg = cat_message.dataset.stMessage || 'Esperando por una solicitud...';\r\n            const cancel_btn = document.getElementById('cat_cancel');\r\n            const type_btn = document.querySelector(`button[type=\"submit\"][data-type=\"${type}\"]`);\r\n            if(type_btn && cancel_btn){\r\n               \r\n                type_btn.disabled = false;\r\n                type_btn.classList.remove('is-loading');\r\n                cat_message.innerHTML = static_msg;\r\n            }\r\n    },\r\n\r\n    delete_categories : () => {\r\n            document.addEventListener('click', function(e){\r\n                let target = e.target;\r\n                if(!target.matches('#delete-category')){\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                let mode = target.dataset.mode;\r\n                const categories_list = document.getElementById('categories-list');\r\n                if(categories_list && categories_list.firstChild){\r\n                    const col_cats = categories_list.querySelectorAll('.column');\r\n\r\n                    if(col_cats){\r\n                        col_cats.forEach(function(cat){\r\n                            if( mode === 'active-dlt'){\r\n                                create_button(cat, 'Delete', 'delete_category', 'delete', target);\r\n\r\n                                }else if(mode === 'deactive-dlt'){\r\n                                const dlt_btn = cat.querySelector('.form-btn-dlt');\r\n                                if(dlt_btn){\r\n                                      dlt_btn.remove();\r\n                                        target.dataset.mode = 'active-dlt';\r\n                                       target.textContent = 'Delete';\r\n                                }\r\n                            }\r\n                          \r\n                        })\r\n                    }\r\n                }\r\n                  \r\n            })\r\n    },\r\n    edit_categories :  () => {\r\n                document.addEventListener('click', function(e){\r\n                let target = e.target;\r\n                if(!target.matches('#edit-category')){\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                let mode = target.dataset.mode;\r\n                const categories_list = document.getElementById('categories-list');\r\n                if(categories_list && categories_list.firstChild){\r\n                    const col_cats = categories_list.querySelectorAll('.column');\r\n\r\n                    if(col_cats){\r\n                        col_cats.forEach(function(cat){\r\n                            if( mode === 'active-dlt'){\r\n                                create_button(cat, 'Edit', 'edit_category', 'edit', target);\r\n\r\n                                }else if(mode === 'deactive-dlt'){\r\n                                const dlt_btn = cat.querySelector('.form-btn-dlt');\r\n                                if(dlt_btn){\r\n                                      dlt_btn.remove();\r\n                                        target.dataset.mode = 'active-dlt';\r\n                                       target.textContent = 'Edit';\r\n                                }\r\n                            }\r\n                          \r\n                        })\r\n                    }\r\n                }\r\n\r\n                })\r\n    }\r\n        \r\n}\r\n\r\n\r\n}"],"names":["document","addEventListener","e","c_events","create_button","cat","name_btn","action","type","tgElement","form","createElement","input_submit","hidden_id","cat_id","id","replace","action_input","innerHTML","className","delete","edit","value","name","appendChild","method","style","position","top","right","dataset","mode","textContent","transform_input_slug","input","closest","input_slug","querySelector","preview","slug","trim","toLowerCase","card_down_toggle","target","card","content","transition","overflow","text","classList","contains","remove","maxHeight","offsetWidth","scrollHeight","opacity","handler","removeEventListener","add","toggle","dissable_button","button","disabled","setTimeout","return_button","cat_message","getElementById","static_msg","stMessage","cancel_btn","type_btn","delete_categories","matches","preventDefault","categories_list","firstChild","col_cats","querySelectorAll","forEach","dlt_btn","edit_categories","cat_events","this"],"sourceRoot":""}