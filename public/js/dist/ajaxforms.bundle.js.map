{"version":3,"file":"ajaxforms.bundle.js","mappings":"mBAEAA,SAASC,iBAAiB,mBAAoB,WAE1C,MAAMC,ECJK,WACX,SAASC,EAAcC,EAAKC,EAAUC,EAAQC,EAAMC,GAC3B,MAAMC,EAAOT,SAASU,cAAc,QAC7BC,EAAcX,SAASU,cAAc,UACrCE,EAAYZ,SAASU,cAAc,SACnCG,EAAST,EAAIU,GAAGC,QAAQ,aAAc,IACtCC,EAAehB,SAASU,cAAc,SAO5CC,EAAaJ,KAAO,SACpBI,EAAaM,UAAY,SAASZ,EAAS,UAC3CM,EAAaM,WAAa,+BAC1BN,EAAaM,WAAa,+BAC1BN,EAAaM,WAAa,UAC1BN,EAAaO,UAVO,CAClBC,OAAQ,6CACRC,KAAM,0CAQ6Bb,GAErCK,EAAUL,KAAO,SACjBK,EAAUS,MAAQR,EAClBD,EAAUU,KAAO,cAEjBN,EAAaT,KAAK,SAClBS,EAAaK,MAAQf,EACrBU,EAAaM,KAAO,SAEpBb,EAAKc,YAAYZ,GACjBF,EAAKc,YAAYX,GACjBH,EAAKc,YAAYP,GAEjBP,EAAKH,OAAS,qBACdG,EAAKe,OAAS,OACdf,EAAKS,UAAY,wBAEjBT,EAAKgB,MAAMC,SAAW,WACtBjB,EAAKgB,MAAME,IAAM,SACjBlB,EAAKgB,MAAMG,MAAQ,SAErBxB,EAAImB,YAAYd,GACfD,EAAUqB,QAAQC,KAAO,eACzBtB,EAAUuB,YAAc,UACjD,CAEJ,MAAO,CACCC,qBAAyBC,IACjB,MAAMxB,EAAOwB,EAAMC,QAAQ,iBAE/B,IAAIzB,EACA,OAAO,EAGX,MAAM0B,EAAa1B,EAAK2B,cAAc,SAChCC,EAAUrC,SAASoC,cAAc,iBACvC,GAAGC,GAAWF,EAAW,CAExB,MAAMG,EAAOL,EAAMZ,MAAMkB,OAAOC,cAAczB,QAAQ,OAAQ,KAC9DsB,EAAQN,YAAcO,EACvBH,EAAWd,MAAQgB,EAAQN,WAC3B,GAILU,iBAAqBC,IAChB,IAAIC,EAAOD,EAAOR,QAAQ,SAC1B,GAAGS,EAAK,CACJ,IAAIC,EAAUD,EAAKP,cAAc,iBACjC,GAAGQ,EAAQ,CAEPA,EAAQnB,MAAMoB,WAAa,uBAC3BD,EAAQnB,MAAMqB,SAAW,SAGzB,IAAIC,EAAOH,EAAQR,cAAc,cAC7BW,IACAA,EAAKtB,MAAMoB,WAAa,qBAGxBD,EAAQI,UAAUC,SAAS,WAC3BL,EAAQI,UAAUE,OAAO,UAEzBN,EAAQnB,MAAM0B,UAAY,MAErBP,EAAQQ,YAEbR,EAAQnB,MAAM0B,UAAYP,EAAQS,aAAe,KAG7CN,IACAA,EAAKtB,MAAM6B,QAAU,IAEhBP,EAAKK,YACVL,EAAKtB,MAAM6B,QAAU,KAIzBV,EAAQ3C,iBAAiB,gBAAiB,SAASsD,IAC/CX,EAAQnB,MAAM0B,UAAY,GAC1BP,EAAQY,oBAAoB,gBAAiBD,EACjD,KAGAX,EAAQnB,MAAM0B,UAAYP,EAAQS,aAAe,KAE5CT,EAAQQ,YAEbR,EAAQnB,MAAM0B,UAAY,MAGtBJ,IACAA,EAAKtB,MAAM6B,QAAU,IAEhBP,EAAKK,YACVL,EAAKtB,MAAM6B,QAAU,KAGzBV,EAAQ3C,iBAAiB,gBAAiB,SAASsD,IAC/CX,EAAQI,UAAUS,IAAI,UACtBb,EAAQY,oBAAoB,gBAAiBD,EACjD,IAEJX,EAAQI,UAAUU,OAAO,SAC7B,CACA,GAGZC,gBAAmBpD,IACX,MAAMqD,EAAS5D,SAASoC,cAAc,oCAAoC7B,OACvEqD,IACCA,EAAOC,UAAW,EAClBD,EAAOZ,UAAUS,IAAI,cACrBK,WAAW,KACPF,EAAOZ,UAAUE,OAAO,eACzB,OAIfa,cAAgBA,KACR,MAAMC,EAAchE,SAASiE,eAAe,eACtC1D,EAAOyD,EAAYnC,QAAQtB,MAAQ,UACnC2D,EAAaF,EAAYnC,QAAQsC,WAAa,iCAC9CC,EAAapE,SAASiE,eAAe,cACrCI,EAAWrE,SAASoC,cAAc,oCAAoC7B,OACzE8D,GAAYD,IAEXC,EAASR,UAAW,EACpBQ,EAASrB,UAAUE,OAAO,cAC1Bc,EAAY/C,UAAYiD,IAIpCI,kBAAoBA,KACZtE,SAASC,iBAAiB,QAAS,SAASsE,GACxC,IAAI7B,EAAS6B,EAAE7B,OACf,IAAIA,EAAO8B,QAAQ,oBACf,OAEJD,EAAEE,iBACF,IAAI3C,EAAOY,EAAOb,QAAQC,KAC1B,MAAM4C,EAAkB1E,SAASiE,eAAe,mBAChD,GAAGS,GAAmBA,EAAgBC,WAAW,CAC7C,MAAMC,EAAWF,EAAgBG,iBAAiB,WAE/CD,GACCA,EAASE,QAAQ,SAAS1E,GACtB,GAAa,eAAT0B,EACA3B,EAAcC,EAAK,SAAU,kBAAmB,SAAUsC,QAEpD,GAAY,iBAATZ,EAAwB,CACjC,MAAMiD,EAAU3E,EAAIgC,cAAc,iBAC/B2C,IACGA,EAAQ7B,SACNR,EAAOb,QAAQC,KAAO,aACvBY,EAAOX,YAAc,SAEhC,CAEJ,EAER,CAEJ,IAERiD,gBAAmBA,KACPhF,SAASC,iBAAiB,QAAS,SAASsE,GAC5C,IAAI7B,EAAS6B,EAAE7B,OACf,IAAIA,EAAO8B,QAAQ,kBACf,OAEJD,EAAEE,iBACF,IAAI3C,EAAOY,EAAOb,QAAQC,KAC1B,MAAM4C,EAAkB1E,SAASiE,eAAe,mBAChD,GAAGS,GAAmBA,EAAgBC,WAAW,CAC7C,MAAMC,EAAWF,EAAgBG,iBAAiB,WAE/CD,GACCA,EAASE,QAAQ,SAAS1E,GACtB,GAAa,eAAT0B,EACA3B,EAAcC,EAAK,OAAQ,gBAAiB,OAAQsC,QAE9C,GAAY,iBAATZ,EAAwB,CACjC,MAAMiD,EAAU3E,EAAIgC,cAAc,iBAC/B2C,IACGA,EAAQ7B,SACNR,EAAOb,QAAQC,KAAO,aACvBY,EAAOX,YAAc,OAEhC,CAEJ,EAER,CAEA,IAMhB,CDxNqBkD,GAsHjB,MAAMC,EAAU,CAACC,aA3DjB,SAAsBC,GAElB,MAAMpB,EAAchE,SAASiE,eAAe,eACtCoB,EAAOD,EAAKC,KAElBrB,EAAY/C,UAAYoE,EACxBrB,EAAYnC,QAAQtB,KAAQ6E,EAAK9E,OAEjCJ,EAASyD,gBAAgByB,EAAK9E,OAClC,EAkD8BgF,cAhD9B,SAAuBF,GAAoB,IAAdG,EAAMC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAE,KAC7B,MAAM,cAACG,GAAiBP,GAClB,KAAQ3E,EAAO,MAAS8E,EACxBK,EAAa5F,SAASiE,eAAe,sBACrCS,EAAkB1E,SAASiE,eAAe,mBAC1CkB,EAAenF,SAASU,cAAc,OAC5CkF,EAAW3E,UAAYmE,EAAKS,QAC5BD,EAAWnE,MAAMqE,QAAU,QAE3BX,EAAarE,GAAK,YAAY6E,EAAcI,aAC5CZ,EAAajE,UAAY,wBACzBiE,EAAa1D,MAAMC,SAAW,WAC9ByD,EAAalE,UAAY,uIAGW0E,EAAcK,wEACXL,EAAcM,8FAIrDvB,EAAgBnD,YAAY4D,GACzB1E,GACCA,EAAKyF,OAGjB,EAuB4CC,SArB5C,SAAkBf,GAEfgB,OAAOC,SAASC,KAAO,mBAAqBlB,EAAKS,OACpD,EAkBqDU,MAfrD,SAAenB,GAEPgB,OAAOC,SAASC,KAAO,MAC3B,EAYuDE,OAT3D,SAAgBpB,GAEPgB,OAAOC,SAASC,KAAO,iBAAmBlB,EAAKS,OACpD,EAM8DY,KAJlE,SAAerB,EAAMG,GACb,MAAM,IAAImB,MAAM,0BAA4BtB,EAAK9E,OACrD,EAEoEqG,gBArHxE,SAAyBvB,GACrB,MAAM,YAACwB,GAAexB,EAChByB,EAAc7G,SAASoC,cAAc,aAAewE,GAC5DE,QAAQC,IAAI,oBAAqBH,GAC/B,MAAM5C,EAAchE,SAASiE,eAAe,oBAC5CD,EAAY/C,UAAY,4KAET2F,sGAIf5C,EAAYnC,QAAQtB,KAAO,kBAExBsG,IAECA,EAAYpF,MAAMoB,WAAa,eAC/BiB,WAAW,KACP+C,EAAYpF,MAAM6B,QAAU,IAC5BQ,WAAW,KACP+C,EAAY3D,UACb,MACJ,MAIP,MAAM8D,EAAehD,EAAY5B,cAAc,iBAC3C4E,IACAA,EAAavF,MAAM6B,QAAU,IAC7BQ,WAAW,KACXkD,EAAavF,MAAM6B,QAAU,KAC1B,IAGHQ,WAAW,KACXkD,EAAavF,MAAM6B,QAAU,IAC7BQ,WAAW,KACPE,EAAY/C,UAAY,IACzB,MACA,MAIP,MAAMgG,EAAYjD,EAAY5B,cAAc,WACxC6E,GACAA,EAAUhH,iBAAiB,QAAS,KAChC+G,GACAA,EAAavF,MAAM6B,QAAU,IAC7BQ,WAAW,KACXE,EAAY/C,UAAY,IACrB,MAEH+C,EAAY/C,UAAY,IAIpC,GA+DAiG,KAAKjH,iBAAiB,SAAU,SAASsE,GACrC,GAAGA,EAAE7B,OAAO8B,QAAQ,aAAc,CAC1BD,EAAEE,iBACF,MAAMhE,EAAO8D,EAAE7B,OACTyE,EAAW,IAAIC,SAAS3G,GACxB4G,EAAa5G,EAAK6G,aAAa,UAC/BC,EAAa9G,EAAK6G,aAAa,UAAUE,cAEzCC,EAAS,IAAIC,QAQnBC,MAAMN,EAPS,CACX7F,OAAQ+F,EACRK,QAASH,EACT3F,KAAO,OACP+F,MAAO,WACPC,KAAMX,IAGTY,KAAKC,IACF,IAAKA,EAASC,GACV,MAAM,IAAIvB,MAAM,+BAAiCsB,EAASE,YAG9D,OAAOF,EAASjF,SAGnBgF,KAAKhF,IACE,IACJ,MAAMqC,EAAO+C,KAAKC,MAAMrF,GAExB,GADA+D,QAAQC,IAAI3B,GACO,YAAhBA,EAAKiD,OAAsBnD,EAAQE,EAAK9E,QAAQ8E,EAAM,CAAC3E,cACrD,GAAmB,UAAhB2E,EAAKiD,OAAoB,CAE7B,MAAMC,EAAoBtI,SAASiE,eAAe,sBAC5CsE,EAAWnD,EAAKoD,eAAe,OAASpD,EAAKqD,IAAM,GACzDH,EAAkBrH,UAAYmE,EAAKS,QAAU,OAAU0C,EACvDD,EAAkB7G,MAAMqE,QAAU,OACtC,CACI,CAAC,MAAMvB,GAEF,MADDuC,QAAQ4B,MAAM,0BAA2BnE,GAClC,IAAImC,MAAM,0BAA4B3D,EACjD,IAEP4F,MAAMD,IAEH5B,QAAQ4B,MAAM,SAAUA,IAI5B,CACR,GAKL,MAAME,EAAgB5I,SAASiE,eAAe,kBACvC4E,EAAiB7I,SAASiE,eAAe,mBAG/C,GAAG4E,GAAkBD,EAAe,CAC/B,MAAME,EAAOD,EAAezG,cAAc,KAC3CyG,EAAe5I,iBAAiB,QAAS,SAASsE,GAEf,aAAvBqE,EAAcrI,MACdqI,EAAcrI,KAAO,OACrBuI,EAAK9F,UAAUE,OAAO,UACtB4F,EAAK9F,UAAUS,IAAI,kBAEnBmF,EAAcrI,KAAO,WACrBuI,EAAK9F,UAAUE,OAAO,gBACtB4F,EAAK9F,UAAUS,IAAI,UAE3B,EAER,CAKIzD,SAASC,iBAAiB,QAAUsE,IAC7BA,EAAE7B,OAAO8B,QAAQ,gBACnBtE,EAAS6D,iBAItB,E","sources":["webpack://sinventory-fityfour/./public/js/src/ajaxforms.js","webpack://sinventory-fityfour/./public/js/src/categoria/events.js"],"sourcesContent":["import cat_events from './categoria/events.js';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n\r\n    const c_events = cat_events();\r\n    function delete_category(data, params = null) {\r\n        const {category_id} = data;\r\n        const cat_element = document.querySelector('#category-' + category_id);\r\n      console.log('Category deleted:', category_id);\r\n        const cat_message = document.getElementById('cat_noty_message');\r\n        cat_message.innerHTML = `\r\n            <div class=\"notification is-info is-light fade-in\" style=\"position:fixed;top:1rem;right:1rem;z-index:1000;transition:opacity 0.5s;\">\r\n            Category ${category_id} deleted successfully.\r\n            <button class=\"delete\"></button>\r\n            </div>\r\n        `;\r\n        cat_message.dataset.type = 'delete_category';\r\n        // Remove the category element after a delay\r\n        if(cat_element) {\r\n            // Fade out the category element before removing it\r\n            cat_element.style.transition = 'opacity 0.3s';\r\n            setTimeout(() => {\r\n                cat_element.style.opacity = '0';\r\n                setTimeout(() => {\r\n                    cat_element.remove();\r\n                }, 500); // Wait for fade-out transition\r\n            }, 300); // Optional: small delay before starting fade\r\n        }\r\n\r\n        // Add fade-in effect\r\n        const notification = cat_message.querySelector('.notification');\r\n        if (notification) {\r\n            notification.style.opacity = '0';\r\n            setTimeout(() => {\r\n            notification.style.opacity = '1';\r\n            }, 10);\r\n\r\n            // Remove after 3 seconds with fade-out\r\n            setTimeout(() => {\r\n            notification.style.opacity = '0';\r\n            setTimeout(() => {\r\n                cat_message.innerHTML = '';\r\n            }, 500);\r\n            }, 3000);\r\n        }\r\n\r\n        // Allow closing the notification manually\r\n        const deleteBtn = cat_message.querySelector('.delete');\r\n        if (deleteBtn) {\r\n            deleteBtn.addEventListener('click', () => {\r\n            if (notification) {\r\n                notification.style.opacity = '0';\r\n                setTimeout(() => {\r\n                cat_message.innerHTML = '';\r\n                }, 500);\r\n            } else {\r\n                cat_message.innerHTML = '';\r\n            }\r\n            });\r\n        }\r\n    }\r\n        \r\n    // Define actions for different form submission\r\n    function new_category(data, params= null) {\r\n       \r\n        const cat_message = document.getElementById('cat_message');\r\n        const html = data.html;\r\n       \r\n        cat_message.innerHTML = html;\r\n        cat_message.dataset.type =  data.action;\r\n\r\n        c_events.dissable_button(data.action);\r\n    }\r\n\r\n    function save_category(data, params= null) {\r\n            const {last_category} = data;\r\n            const {form : form = null } = params;\r\n            const cat_notice = document.getElementById('error-notification');\r\n            const categories_list = document.getElementById('categories-list');\r\n            const new_category = document.createElement('div');\r\n            cat_notice.innerHTML = data.message;\r\n            cat_notice.style.display = 'block';\r\n\r\n            new_category.id = 'category-'+last_category.categoria_id;\r\n            new_category.className = 'column is-one-quarter';\r\n            new_category.style.position = 'relative';\r\n            new_category.innerHTML = `\r\n                <div class=\"card\">\r\n                    <div class=\"card-content\">\r\n                        <p class=\"title is-5\">${last_category.categoria_name}</p>\r\n                        <p class=\"subtitle is-6\">${last_category.categoria_description}</p>\r\n                    </div>\r\n                </div>\r\n            `;\r\n            categories_list.appendChild(new_category);\r\n            if(form){\r\n                form.reset();\r\n            }\r\n      \r\n    }\r\n\r\n    function register(data, params= null) {\r\n        // Handle the register action\r\n       window.location.href = 'success?message=' + data.message;\r\n    }\r\n\r\n\r\n    function login(data, params= null) {\r\n            // Handle the login action\r\n            window.location.href = 'home';\r\n        }\r\n\r\n\r\n    function logout(data, params= null) {\r\n            // Handle the login action\r\n             window.location.href = 'login?message=' + data.message;\r\n        }\r\n    // Handle unrecognized actions\r\n    function none (data, params){\r\n            throw new Error('Action not recognized: ' + data.action);\r\n        }\r\n\r\n    const actions = {new_category,save_category,register,login,logout,none, delete_category};\r\n    this.addEventListener('submit', function(e){\r\n        if(e.target.matches('.ajaxform')) {\r\n                e.preventDefault(); \r\n                const form = e.target;\r\n                const formData = new FormData(form);\r\n                const formAction = form.getAttribute('action');\r\n                const formMethod = form.getAttribute('method').toUpperCase();\r\n                \r\n                const header = new Headers();\r\n                const config = {\r\n                    method: formMethod,\r\n                    headers: header,\r\n                    mode : 'cors',\r\n                    cache: 'no-cache',\r\n                    body: formData\r\n                }\r\n                fetch(formAction, config)\r\n                .then(response => {\r\n                    if (!response.ok) {\r\n                        throw new Error('Network response was not ok ' + response.statusText);\r\n                    }\r\n                  \r\n                    return response.text();\r\n                  \r\n                })\r\n                .then(text => {\r\n                        try{\r\n                    const data = JSON.parse(text);\r\n                    console.log(data);\r\n                    if(data.status === 'success') actions[data.action](data, {form});\r\n                    else if(data.status === 'error') {\r\n                        // Handle error, e.g., show an error message\r\n                        const errorNotification = document.getElementById('error-notification');\r\n                        const bodydata = data.hasOwnProperty('row') ? data.row : '';\r\n                        errorNotification.innerHTML = data.message + '<br>'  + bodydata;\r\n                        errorNotification.style.display = 'block';\r\n                    }\r\n                        }catch(e){\r\n                            console.error('Error parsing response:', e);\r\n                             throw new Error('Invalid JSON response: ' + text);\r\n                        }\r\n                })\r\n                .catch(error => {\r\n                 \r\n                    console.error('Error:', error)\r\n    \r\n                });\r\n\r\n                }\r\n        });\r\n \r\n\r\n\r\n // Toggle password visibility\r\n   const passwordInput = document.getElementById('password-input');\r\n    const togglePassword = document.getElementById('toggle-password');\r\n   \r\n\r\n    if(togglePassword && passwordInput) {\r\n         const icon = togglePassword.querySelector('i');\r\n        togglePassword.addEventListener('click', function(e) {\r\n               \r\n                if (passwordInput.type === 'password') {\r\n                    passwordInput.type = 'text';\r\n                    icon.classList.remove('fa-eye');\r\n                    icon.classList.add('fa-eye-slash');\r\n                } else {\r\n                    passwordInput.type = 'password';\r\n                    icon.classList.remove('fa-eye-slash');\r\n                    icon.classList.add('fa-eye');\r\n                }\r\n            });\r\n\r\n    }\r\n\r\n   \r\n\r\n     \r\n        document.addEventListener('click', (e) =>  {\r\n            if(e.target.matches('#cat_cancel')){\r\n             c_events.return_button();\r\n            }\r\n        });\r\n    \r\n});","export default function cat_events(){\r\n    function create_button(cat, name_btn, action, type, tgElement) {\r\n                             const form = document.createElement('form');\r\n                              const input_submit= document.createElement('button');\r\n                              const hidden_id = document.createElement('input');\r\n                              const cat_id = cat.id.replace(/^category-/, \"\");\r\n                              const action_input = document.createElement('input');\r\n\r\n                              const btn_classes = {\r\n                                delete: 'delete-button button is-danger is-outlined',\r\n                                edit: 'edit-button button is-info is-outlined'\r\n                              }\r\n                              \r\n                              input_submit.type = 'submit';\r\n                              input_submit.innerHTML = '<span>'+name_btn+'</span>';\r\n                              input_submit.innerHTML += '<span class=\"icon is-small\">';\r\n                              input_submit.innerHTML += '<i class=\"fas fa-times\"></i>';\r\n                              input_submit.innerHTML += '</span>';\r\n                              input_submit.className = btn_classes[type];\r\n\r\n                              hidden_id.type = 'hidden';\r\n                              hidden_id.value = cat_id;\r\n                              hidden_id.name = 'category_id';\r\n\r\n                              action_input.type='hidden';\r\n                              action_input.value = action;\r\n                              action_input.name = 'action';\r\n\r\n                              form.appendChild(input_submit);\r\n                              form.appendChild(hidden_id);\r\n                              form.appendChild(action_input);\r\n\r\n                              form.action = './php/category.php';\r\n                              form.method = 'POST';\r\n                              form.className = 'form-btn-dlt ajaxform';\r\n\r\n                              form.style.position = 'absolute';\r\n                              form.style.top = '-0.5em';\r\n                              form.style.right = '-0.5em';\r\n\r\n                            cat.appendChild(form);\r\n                             tgElement.dataset.mode = 'deactive-dlt';\r\n                             tgElement.textContent = 'Cancelar';\r\n    }\r\n\r\nreturn {\r\n        transform_input_slug :  (input) => {\r\n                const form = input.closest('#category_new');\r\n\r\n            if(!form){\r\n                return false;\r\n            }\r\n         \r\n            const input_slug = form.querySelector('#slug');\r\n            const preview = document.querySelector('.preview-slug');\r\n            if(preview && input_slug){\r\n     \r\n             const slug = input.value.trim().toLowerCase().replace(/\\s+/g, '-');\r\n             preview.textContent = slug;\r\n            input_slug.value = preview.textContent;\r\n            }\r\n\r\n          \r\n            },\r\n       card_down_toggle :  (target) => {\r\n            let card = target.closest('.card');\r\n            if(card){\r\n                let content = card.querySelector('.card-content');\r\n                if(content){\r\n                    // Add smooth transition for max-height\r\n                    content.style.transition = 'max-height 0.3s ease';\r\n                    content.style.overflow = 'hidden';\r\n\r\n                    // Fade effect for the text inside card-content\r\n                    let text = content.querySelector('.card-text');\r\n                    if (text) {\r\n                        text.style.transition = 'opacity 0.3s ease';\r\n                    }\r\n\r\n                    if (content.classList.contains('hidden')) {\r\n                        content.classList.remove('hidden');\r\n                        // Set maxHeight to 0 first to trigger transition\r\n                        content.style.maxHeight = '0px';\r\n                        // Force reflow to apply the initial state\r\n                        void content.offsetWidth;\r\n                        // Then set to scrollHeight to expand\r\n                        content.style.maxHeight = content.scrollHeight + 'px';\r\n\r\n                        // Fade in text\r\n                        if (text) {\r\n                            text.style.opacity = '0';\r\n                            // Force reflow\r\n                            void text.offsetWidth;\r\n                            text.style.opacity = '1';\r\n                        }\r\n\r\n                        // Optionally, remove maxHeight after transition for flexibility\r\n                        content.addEventListener('transitionend', function handler() {\r\n                            content.style.maxHeight = '';\r\n                            content.removeEventListener('transitionend', handler);\r\n                        });\r\n                    } else {\r\n                        // Set maxHeight to current height before collapsing\r\n                        content.style.maxHeight = content.scrollHeight + 'px';\r\n                        // Force reflow\r\n                        void content.offsetWidth;\r\n                        // Collapse\r\n                        content.style.maxHeight = '0px';\r\n\r\n                        // Fade out text\r\n                        if (text) {\r\n                            text.style.opacity = '1';\r\n                            // Force reflow\r\n                            void text.offsetWidth;\r\n                            text.style.opacity = '0';\r\n                        }\r\n\r\n                        content.addEventListener('transitionend', function handler() {\r\n                            content.classList.add('hidden');\r\n                            content.removeEventListener('transitionend', handler);\r\n                        });\r\n                    }\r\n                    content.classList.toggle('active');\r\n                }\r\n                }\r\n           \r\n        },\r\n    dissable_button : (type) => {\r\n            const button = document.querySelector(`button[type=\"submit\"][data-type=\"${type}\"]`);\r\n            if(button){\r\n                button.disabled = true;\r\n                button.classList.add('is-loading');\r\n                setTimeout(() => {\r\n                    button.classList.remove('is-loading');\r\n                }, 2000); // Re-enable after 2 seconds\r\n            }\r\n    },\r\n\r\n    return_button : () => {\r\n            const cat_message = document.getElementById('cat_message');\r\n            const type = cat_message.dataset.type || 'waiting';\r\n            const static_msg = cat_message.dataset.stMessage || 'Esperando por una solicitud...';\r\n            const cancel_btn = document.getElementById('cat_cancel');\r\n            const type_btn = document.querySelector(`button[type=\"submit\"][data-type=\"${type}\"]`);\r\n            if(type_btn && cancel_btn){\r\n               \r\n                type_btn.disabled = false;\r\n                type_btn.classList.remove('is-loading');\r\n                cat_message.innerHTML = static_msg;\r\n            }\r\n    },\r\n\r\n    delete_categories : () => {\r\n            document.addEventListener('click', function(e){\r\n                let target = e.target;\r\n                if(!target.matches('#delete-category')){\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                let mode = target.dataset.mode;\r\n                const categories_list = document.getElementById('categories-list');\r\n                if(categories_list && categories_list.firstChild){\r\n                    const col_cats = categories_list.querySelectorAll('.column');\r\n\r\n                    if(col_cats){\r\n                        col_cats.forEach(function(cat){\r\n                            if( mode === 'active-dlt'){\r\n                                create_button(cat, 'Delete', 'delete_category', 'delete', target);\r\n\r\n                                }else if(mode === 'deactive-dlt'){\r\n                                const dlt_btn = cat.querySelector('.form-btn-dlt');\r\n                                if(dlt_btn){\r\n                                      dlt_btn.remove();\r\n                                        target.dataset.mode = 'active-dlt';\r\n                                       target.textContent = 'Delete';\r\n                                }\r\n                            }\r\n                          \r\n                        })\r\n                    }\r\n                }\r\n                  \r\n            })\r\n    },\r\n    edit_categories :  () => {\r\n                document.addEventListener('click', function(e){\r\n                let target = e.target;\r\n                if(!target.matches('#edit-category')){\r\n                    return;\r\n                }\r\n                e.preventDefault();\r\n                let mode = target.dataset.mode;\r\n                const categories_list = document.getElementById('categories-list');\r\n                if(categories_list && categories_list.firstChild){\r\n                    const col_cats = categories_list.querySelectorAll('.column');\r\n\r\n                    if(col_cats){\r\n                        col_cats.forEach(function(cat){\r\n                            if( mode === 'active-dlt'){\r\n                                create_button(cat, 'Edit', 'edit_category', 'edit', target);\r\n\r\n                                }else if(mode === 'deactive-dlt'){\r\n                                const dlt_btn = cat.querySelector('.form-btn-dlt');\r\n                                if(dlt_btn){\r\n                                      dlt_btn.remove();\r\n                                        target.dataset.mode = 'active-dlt';\r\n                                       target.textContent = 'Edit';\r\n                                }\r\n                            }\r\n                          \r\n                        })\r\n                    }\r\n                }\r\n\r\n                })\r\n    }\r\n        \r\n}\r\n\r\n\r\n}"],"names":["document","addEventListener","c_events","create_button","cat","name_btn","action","type","tgElement","form","createElement","input_submit","hidden_id","cat_id","id","replace","action_input","innerHTML","className","delete","edit","value","name","appendChild","method","style","position","top","right","dataset","mode","textContent","transform_input_slug","input","closest","input_slug","querySelector","preview","slug","trim","toLowerCase","card_down_toggle","target","card","content","transition","overflow","text","classList","contains","remove","maxHeight","offsetWidth","scrollHeight","opacity","handler","removeEventListener","add","toggle","dissable_button","button","disabled","setTimeout","return_button","cat_message","getElementById","static_msg","stMessage","cancel_btn","type_btn","delete_categories","e","matches","preventDefault","categories_list","firstChild","col_cats","querySelectorAll","forEach","dlt_btn","edit_categories","cat_events","actions","new_category","data","html","save_category","params","arguments","length","undefined","last_category","cat_notice","message","display","categoria_id","categoria_name","categoria_description","reset","register","window","location","href","login","logout","none","Error","delete_category","category_id","cat_element","console","log","notification","deleteBtn","this","formData","FormData","formAction","getAttribute","formMethod","toUpperCase","header","Headers","fetch","headers","cache","body","then","response","ok","statusText","JSON","parse","status","errorNotification","bodydata","hasOwnProperty","row","error","catch","passwordInput","togglePassword","icon"],"sourceRoot":""}